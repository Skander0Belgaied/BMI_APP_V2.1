<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<title></title> 
<head th:replace="fragments/head :: head"></head>
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
   <link th:href="@{../../css/searchAC.css}" rel="stylesheet" type="text/css">
  <!-- Custom styles for this template-->
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,800" rel="stylesheet">
  <link th:href="@{../../css/sb-admin-2.min.css}" rel="stylesheet">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
 <script type="text/javascript">
  function deleteButton (rapportId){
    console.log(rapportId);
   swal({
  title: "Êtes-vous sûr?",
  text: "Une fois supprimé, vous ne pourrez plus récupérer ce fichier!",
  icon: "warning",
  buttons: true,
  dangerMode: true,
})
.then((willDelete) => {
  if (willDelete) {
    var url="/rapport-Management/delete/"+rapportId;
    window.location.replace(url);
    console.log("delete with succses");
  } else {
    swal("Your imaginary file is safe!");
  }
});
}
 </script>
 <style type="text/css">
   a.del
{
    background:#d9534f;
    border-radius: 2px; 
    width: 35px;
    height:28px; 
    padding-left:12px;
    line-height:10px;
}

a.edit
{
    padding-left:10px;
    background:#337ab7;
    color:#fff;
    border-radius:2px;
    border:none;
}

tr.row-name
{
    font-size: 18px;
    color:#448aff;
}

tr.row-content
{
    color:#6c7173;
}

table
{
    border-bottom: 8px solid #448aff;
}

td.check
{
    text-align: center;
}

.table-striped>tbody>tr:nth-of-type(odd)
{
    background:#F0F2F2 !important; 
}

a.btn-danger:hover
{
    background: #de6c69;
}

a.btn-danger
{
    background:#d9534f;  
}

a.btn-top
{
    background:#448aff;
    color:#fff;
    border:1px solid #448aff; 
    padding: 7px 10px; 
    border-radius:4px; 
}

a.btn-top:hover
{
    text-decoration: none;
    box-shadow:3px 3px 5px #222; 
    transition:box-shadow 0.5s; 
}
 </style>
</head>

<body id="page-top">
  <!-- Page Wrapper -->
  <div id="wrapper">
    <!--  sidebar -->
    <div th:replace="fragments/sidebar :: sidebar"></div>
    <!--  end sidebar -->
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
      <!-- Main Content -->
      <div id="content">
        <!--  topbar -->
        <div th:replace="fragments/topbar :: topbar"></div>
        <!--  end topbar -->

        <!-- Begin Page Content -->
        <div class="container-fluid" id="page-content">
<div class="s004">
      <form action="/rapport-Management/recherche" method="get">
        <h2 style="color: #448aff;text-align: center;"> Rapports </h2>
        <hr>
          <div class="inner-form">
            <div class="input-field">
              <div class="choices" data-type="text" aria-haspopup="true" aria-expanded="false" dir="ltr">
          <div class="choices__inner"><input type="text" name="recherche" class="choices__input choices__input--cloned" autocomplete="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" placeholder="Type to search..." style="width: 500px;"></div></div>
              <button class="btn-search" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                  <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
              </button>
            </div>
          </div>
      </form>
          
          </div>
<div class="table-responsive">
  <table class="table table-striped">

     <thead>
        <tr class="row-name">
           <th style="width:2%">Identifiant du Rapport</th>
           <th style="width:20%">Nom du Rapport</th>
           <th>Date Creation</th>
           <th>Nom du createur</th>
           <th>Prénom du createur</th>
           <th>Email </th>
           <th></th>
        </tr>
     </thead>   
     <tbody>
        <tr class="row-content"   th:if="${rapports} != null" th:each="rapport : ${rapports}">
            <td> <span class="label label-default" th:text="${rapport.key.getRapportId()}"> New </span></td>
           <td> <span class="label label-default" th:text="${rapport.key.getRapportNom()}"> New </span></td>
           <td th:text="${rapport.key.getDateCreation()}">Alumin foil</td>
           <td  th:text="${rapport.value.getUtilisateurNom()}">FA101</td>
           <td th:text="${rapport.value.getUtilisateurPrenom()}">Akshay</td>
           <td th:text="${rapport.value.getUtilisateurEmail()}">Super... </i></td>
           <td>
              <a class="btn btn-danger edit" th:onclick="'deleteButton(\''+ ${rapport.key.rapportId} +'\')'" aria-label="Settings">
                <i class="fa fa-trash" aria-hidden="true"></i>
              </a>
           </td>
        </tr>
         <tr class="row-content" th:if="${rapports} == null" >
           <td></td>
           <td></td>
           <td></td>
           <td></td>
           <td></td>
           <td></td>
        </tr>
     </tbody>
  </table>
   </div>
          </div>
          <!-- /.container-fluid -->

        </div>
        <!-- End of Main Content -->

        <!--  footer -->
          <footer th:replace="fragments/footer :: footer" ></footer>
        <!--  end footer -->

      </div>
      <!-- End of Content Wrapper -->

    </div>
    <script th:if="${status} != null" th:inline="javascript">
     
         var message = /*[[${status}]]*/ 'default';   
         swal("succès",message,"success");
      </script>
    <!-- End of Page Wrapper -->
    <!-- Bootstrap core JavaScript + Scroll to Top Button +  Logout Modal-->
      <div th:insert="fragments/js :: js"></div>
    <!--  end Bootstrap core JavaScript + Scroll to Top Button +  Logout Modal-->             
  </body>

  </html>
